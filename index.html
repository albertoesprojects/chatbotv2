
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>
   Chatbot
  </title>
<!-- Bootstrap CSS -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
<meta content="noindex, nofollow" name="robots"/>
<meta content="noindex, nofollow" name="robots"/></head>
<body>
<div class="container mt-5">
<h1 class="text-center">
    Chatbot
   </h1>
<div class="chatbox border rounded p-3">
<div class="mb-3" id="chatLog" style="height: 300px; overflow-y: auto;">
<!-- Chat messages will appear here -->
</div>
<input class="form-control" id="userInput" placeholder="Type a message..." type="text"/>
<button class="btn btn-primary mt-2" id="sendBtn">
     Send
    </button>
</div>
</div>
<!-- Bootstrap & jQuery JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js">
</script>
</body>
</html>


<style>
    body {
    background-color: #f8f9fa;
}

.chatbox {
    background-color: #ffffff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

#chatLog {
    border: 1px solid #dee2e6;
    padding: 10px;
    border-radius: 5px;
}

.message {
    margin: 5px 0;
}

.user-message {
    text-align: right;
    color: #007bff;
}

.bot-message {
    text-align: left;
    color: #28a745;
}
</style>

<script  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.1/js/bootstrap.min.js"></script>
<script>
    (function() {
        window.onload = function() {
            parent.iframeLoaded();
        }
    })();
    try {
    $(document).ready(function() {
    let userResponses = 0;

    $('#sendBtn').click(function() {
        const userInput = $('#userInput').val().trim();
        if (userInput) {
            $('#chatLog').append(`<div class="message user-message">${userInput}</div>`);
            $('#userInput').val('');

            respondToUser(userInput);
        }
    });

    $('#userInput').keypress(function(e) {
        if (e.which === 13) {
            $('#sendBtn').click();
        }
    });

    function respondToUser(input) {
        const greetings = ["hey", "hi", "hello"];
        const positiveResponses = ["good", "great", "fine", "well"];
        const negativeResponses = ["bad", "sad", "not good", "terrible"];
        const negativeWords = ["afraid", "agitation", "agony", "aggressive", "alarm", "alienation", "anger", "anguish", "annoyed", "anxious", "apathy", "apprehension", "aversion", "baffled", "bewildered", "bitter", "bored", "brooding", "claustrophobic", "coercive", "confusion", "contempt", "cowardly", "cruel", "dazed", "dejected", "demoralized", "depressed", "despair", "disappointment", "discombobulated", "discomfort", "discontentment", "disgruntled", "disgust", "disheartened", "dislike", "dismay", "disoriented", "dispirit", "displeasure", "distress", "disturbed", "doubtful", "dread", "dumbstruck", "embarrassment", "ennui", "envy", "exasperated", "fear", "fright", "frustration", "fury", "gloomy", "glumness", "greed", "grief", "grouchiness", "grumpiness", "guilt", "hate", "helpless", "homesickness", "hopeless", "horrified", "humiliation", "hurt", "hysteria", "impatient", "indignant", "infuriated", "insecurity", "insulted", "irritated", "isolated", "jealousy", "lazy", "loathing", "lonely", "longing", "loopy", "mad", "melancholy", "miserable", "miserliness", "mixed up", "moody", "mortified", "nasty", "nauseated", "negative", "neglected", "nervous", "numb", "obstinate", "offended", "outrage", "overwhelmed", "panicked", "paranoid", "perplexed", "pessimism", "pity", "possessive", "powerless", "puzzled", "rage", "rattled", "regret", "rejected", "reluctant", "remorseful", "resentment", "resignation", "restlessness", "revulsion", "ruthless", "sadness", "scared", "scorn", "self-conscious", "self-critical", "self-doubtful", "self-loathing", "self-pity", "shame", "shocked", "smug", "sorrow", "spite", "stressed", "stubborn", "stuck", "submissive", "suffering", "sullen", "suspicious", "tension", "terror", "tired", "torment", "troubled", "uncertainty", "undermined", "uneasiness", "unhappy", "unnerved", "unsettled", "unsure", "upset", "vengeful", "vicious", "vigilant", "vulnerable", "weak", "woe", "worried", "wrath"];
        const advice = "It's okay to feel this way. Remember to take a deep breath and talk to someone you trust.";

        if (greetings.includes(input.toLowerCase())) {
            appendBotMessage("Hello! How are you doing today?");
        } else if (positiveResponses.includes(input.toLowerCase())) {
            appendBotMessage("How so?");
            userResponses++;
        } else if (negativeResponses.includes(input.toLowerCase())) {
            appendBotMessage("How so?");
            userResponses++;
        } else if (userResponses === 1) {
            if (negativeWords.some(word => input.toLowerCase().includes(word))) {
                appendBotMessage(advice);
            } else {
                appendBotMessage("Thank you for sharing.");
            }
            userResponses = 0; // Reset after response
        } else {
            appendBotMessage("Chatbot isn't prepared for this. Please share with a friend you can trust. We care about you.");
        }
    }

    function appendBotMessage(message) {
        $('#chatLog').append(`<div class="message bot-message">${message}</div>`);
        $('#chatLog').scrollTop($('#chatLog')[0].scrollHeight);
    }
});
    } catch (e) {
        console.log("Error in JS code", e);
    }
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</html>
    